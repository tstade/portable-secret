<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <style>
    html, body {
      font-family: sans-serif;
      background: rgb(238,174,202);
      background: linear-gradient(128deg, rgba(238,174,202,1) 0%, rgba(175,199,228,1) 100%);
    }

    div {
      margin: 5px;
    }

    button {
      font-size: large;
      padding: 12px 20px;
    }

    input {
      font-family: monospace;
      font-size: large;
    }

    textarea {
      font-family: monospace;
      font-size: large;
    }

    a.download_link {
      font-size: xx-large;
    }
  </style>
  <script src="script.js">
  

  </script>
</head>
<body onload="init()">
  <h1><a href="https://mprimi.github.io/portable-secret/">Portable Secret</a>: Secret Creator</h1>
  <p>
    This tool runs entirely in your browser window. <strong>The secret never leaves your computer!</strong><br>
    But don't take my word for it. Check out the <a href="https://github.com/mprimi/portable-secret/tree/main/creator" target="_blank">source code</a>!
  </p>

  <!-- Inputs -->

  <div>
    Salt: 0x
    <input type="text" id="salt" size="33" value="‚ùì" required>
    <input type="button" value="üîÑ" onclick='refreshSalt()'>
    <br>
    IV: 0x
    <input type="text" id="iv" size="33" value="‚ùì" required>
    <input type="button" value="üîÑ" onclick='refreshIV()'>
    <p>
      <small>Salt and IV are random input coming straight from your browser's Random Number Generator. Do not reuse across messages.</small>
    </p>
  </div>

  <div>
    Password:<br>
    <input type="text" id="password" value="banana" required>
  </div>


  <div>
    Password hint:<br>
    <textarea rows="8" cols="80" id="password_hint" required>A yellow elongated fruit (technically a berry!)
6 letters, all lowercase.</textarea>
  </div>

  <!-- Radio selector for type of secret -->

  <form>
    <input type="radio" id="text_option" selected style="display:none" name="input_type" value="message" onclick="setInputType('message')">
    <label for="text_option">Message</label>
  </form>

  <!-- Input types, only one visible at time -->

  <div id="text_input_div" hidden>
    <h2>üìù Secret message</h2>
    <textarea rows="16" cols="80" id="text_input" name="text_content"></textarea>
  </div>
    <!-- Generate button, and Download link -->

  <div>
    <button type="button" onclick='createSecret()'>‚ö°Ô∏è Generate secret</button>
    <span id="errormsg"></span>
  </div>
  <div>
    <a id="target_link" class="download_link" download="secret.html" hidden>Save secret.html</a>
  </div>

  <!-- Cipertext -->

  <details>
    <summary>Show ciphertext</summary>
    <div>
      <textarea rows="8" cols="80" id="cipher"></textarea>
    </div>
  </details>
</body>
</html>
